#include "ScheduleRepository.h"

ScheduleRepository::ScheduleRepository() {
    this->lastValue = "{\"09902\":{\"30009902\":{\"Stop\":{\"Longitude\":4.8917375,\"Latitude\":52.40094,\"TimingPointTown\":\"Amsterdam\",\"TimingPointName\":\"NDSM\",\"TimingPointCode\":\"30009902\",\"StopAreaCode\":\"09902\"},\"Passes\":{\"GVB_20170617_903_166_0\":{\"IsTimingStop\":true,\"DestinationName50\":\"Westerdoksdijk\",\"DataOwnerCode\":\"GVB\",\"OperatorCode\":\"GVB\",\"FortifyOrderNumber\":0,\"TransportType\":\"BOAT\",\"Latitude\":52.40094,\"Longitude\":4.8917375,\"JourneyNumber\":166,\"JourneyPatternCode\":1770403151,\"LocalServiceLevelCode\":20170617,\"LineDirection\":2,\"OperationDate\":\"2017-06-17\",\"TimingPointCode\":\"30009902\",\"WheelChairAccessible\":\"ACCESSIBLE\",\"LineName\":\"Westerdoksdijk - NDSM\",\"LinePublicNumber\":\"903\",\"LastUpdateTimeStamp\":\"2017-06-17T10:45:33+0200\",\"DestinationCode\":\"WTDD\",\"ExpectedDepartureTime\":\"2017-06-17T22:40:00\",\"UserStopOrderNumber\":1,\"ProductFormulaType\":\"18\",\"TimingPointName\":\"NDSM\",\"LinePlanningNumber\":\"903\",\"StopAreaCode\":\"09902\",\"TimingPointDataOwnerCode\":\"ALGEMEEN\",\"TimingPointTown\":\"Amsterdam\",\"TripStopStatus\":\"PLANNED\",\"UserStopCode\":\"09902\",\"JourneyStopType\":\"FIRST\",\"TargetArrivalTime\":\"2017-06-17T22:40:00\",\"TargetDepartureTime\":\"2017-06-17T22:40:00\",\"ExpectedArrivalTime\":\"2017-06-17T22:40:00\"},\"GVB_20170617_903_178_0\":{\"IsTimingStop\":true,\"DestinationName50\":\"Westerdoksdijk\",\"DataOwnerCode\":\"GVB\",\"OperatorCode\":\"GVB\",\"FortifyOrderNumber\":0,\"TransportType\":\"BOAT\",\"Latitude\":52.40094,\"Longitude\":4.8917375,\"JourneyNumber\":178,\"JourneyPatternCode\":1770403151,\"LocalServiceLevelCode\":20170617,\"LineDirection\":2,\"OperationDate\":\"2017-06-17\",\"TimingPointCode\":\"30009902\",\"WheelChairAccessible\":\"ACCESSIBLE\",\"LineName\":\"Westerdoksdijk - NDSM\",\"LinePublicNumber\":\"903\",\"LastUpdateTimeStamp\":\"2017-06-17T10:45:33+0200\",\"DestinationCode\":\"WTDD\",\"ExpectedDepartureTime\":\"2017-06-17T23:40:00\",\"UserStopOrderNumber\":1,\"ProductFormulaType\":\"18\",\"TimingPointName\":\"NDSM\",\"LinePlanningNumber\":\"903\",\"StopAreaCode\":\"09902\",\"TimingPointDataOwnerCode\":\"ALGEMEEN\",\"TimingPointTown\":\"Amsterdam\",\"TripStopStatus\":\"PLANNED\",\"UserStopCode\":\"09902\",\"JourneyStopType\":\"FIRST\",\"TargetArrivalTime\":\"2017-06-17T23:40:00\",\"TargetDepartureTime\":\"2017-06-17T23:40:00\",\"ExpectedArrivalTime\":\"2017-06-17T23:40:00\"},\"GVB_20170617_906_132_0\":{\"IsTimingStop\":true,\"DestinationName50\":\"Centraal Station\",\"DataOwnerCode\":\"GVB\",\"OperatorCode\":\"GVB\",\"FortifyOrderNumber\":0,\"TransportType\":\"BOAT\",\"Latitude\":52.40094,\"Longitude\":4.8917375,\"JourneyNumber\":132,\"JourneyPatternCode\":1287555197,\"LocalServiceLevelCode\":20170617,\"LineDirection\":1,\"OperationDate\":\"2017-06-17\",\"TimingPointCode\":\"30009902\",\"WheelChairAccessible\":\"ACCESSIBLE\",\"LineName\":\"NDSM - Centraal Station\",\"LinePublicNumber\":\"906\",\"LastUpdateTimeStamp\":\"2017-06-17T10:45:33+0200\",\"DestinationCode\":\"CS\",\"ExpectedDepartureTime\":\"2017-06-17T23:30:00\",\"UserStopOrderNumber\":1,\"ProductFormulaType\":\"18\",\"TimingPointName\":\"NDSM\",\"LinePlanningNumber\":\"906\",\"StopAreaCode\":\"09902\",\"TimingPointDataOwnerCode\":\"ALGEMEEN\",\"TimingPointTown\":\"Amsterdam\",\"TripStopStatus\":\"PLANNED\",\"UserStopCode\":\"09902\",\"JourneyStopType\":\"FIRST\",\"TargetArrivalTime\":\"2017-06-17T23:30:00\",\"TargetDepartureTime\":\"2017-06-17T23:30:00\",\"ExpectedArrivalTime\":\"2017-06-17T23:30:00\"},\"GVB_20170617_903_174_0\":{\"IsTimingStop\":true,\"DestinationName50\":\"Westerdoksdijk\",\"DataOwnerCode\":\"GVB\",\"OperatorCode\":\"GVB\",\"FortifyOrderNumber\":0,\"TransportType\":\"BOAT\",\"Latitude\":52.40094,\"Longitude\":4.8917375,\"JourneyNumber\":174,\"JourneyPatternCode\":1770403151,\"LocalServiceLevelCode\":20170617,\"LineDirection\":2,\"OperationDate\":\"2017-06-17\",\"TimingPointCode\":\"30009902\",\"WheelChairAccessible\":\"ACCESSIBLE\",\"LineName\":\"Westerdoksdijk - NDSM\",\"LinePublicNumber\":\"903\",\"LastUpdateTimeStamp\":\"2017-06-17T10:45:33+0200\",\"DestinationCode\":\"WTDD\",\"ExpectedDepartureTime\":\"2017-06-17T23:20:00\",\"UserStopOrderNumber\":1,\"ProductFormulaType\":\"18\",\"TimingPointName\":\"NDSM\",\"LinePlanningNumber\":\"903\",\"StopAreaCode\":\"09902\",\"TimingPointDataOwnerCode\":\"ALGEMEEN\",\"TimingPointTown\":\"Amsterdam\",\"TripStopStatus\":\"PLANNED\",\"UserStopCode\":\"09902\",\"JourneyStopType\":\"FIRST\",\"TargetArrivalTime\":\"2017-06-17T23:20:00\",\"TargetDepartureTime\":\"2017-06-17T23:20:00\",\"ExpectedArrivalTime\":\"2017-06-17T23:20:00\"},\"GVB_20170617_906_128_0\":{\"IsTimingStop\":true,\"DestinationName50\":\"Centraal Station\",\"DataOwnerCode\":\"GVB\",\"OperatorCode\":\"GVB\",\"FortifyOrderNumber\":0,\"TransportType\":\"BOAT\",\"Latitude\":52.40094,\"Longitude\":4.8917375,\"JourneyNumber\":128,\"JourneyPatternCode\":1287555197,\"LocalServiceLevelCode\":20170617,\"LineDirection\":1,\"OperationDate\":\"2017-06-17\",\"TimingPointCode\":\"30009902\",\"WheelChairAccessible\":\"ACCESSIBLE\",\"LineName\":\"NDSM - Centraal Station\",\"LinePublicNumber\":\"906\",\"LastUpdateTimeStamp\":\"2017-06-17T10:45:33+0200\",\"DestinationCode\":\"CS\",\"ExpectedDepartureTime\":\"2017-06-17T23:00:00\",\"UserStopOrderNumber\":1,\"ProductFormulaType\":\"18\",\"TimingPointName\":\"NDSM\",\"LinePlanningNumber\":\"906\",\"StopAreaCode\":\"09902\",\"TimingPointDataOwnerCode\":\"ALGEMEEN\",\"TimingPointTown\":\"Amsterdam\",\"TripStopStatus\":\"PLANNED\",\"UserStopCode\":\"09902\",\"JourneyStopType\":\"FIRST\",\"TargetArrivalTime\":\"2017-06-17T23:00:00\",\"TargetDepartureTime\":\"2017-06-17T23:00:00\",\"ExpectedArrivalTime\":\"2017-06-17T23:00:00\"},\"GVB_20170617_903_170_0\":{\"IsTimingStop\":true,\"DestinationName50\":\"Westerdoksdijk\",\"DataOwnerCode\":\"GVB\",\"OperatorCode\":\"GVB\",\"FortifyOrderNumber\":0,\"TransportType\":\"BOAT\",\"Latitude\":52.40094,\"Longitude\":4.8917375,\"JourneyNumber\":170,\"JourneyPatternCode\":1770403151,\"LocalServiceLevelCode\":20170617,\"LineDirection\":2,\"OperationDate\":\"2017-06-17\",\"TimingPointCode\":\"30009902\",\"WheelChairAccessible\":\"ACCESSIBLE\",\"LineName\":\"Westerdoksdijk - NDSM\",\"LinePublicNumber\":\"903\",\"LastUpdateTimeStamp\":\"2017-06-17T10:45:33+0200\",\"DestinationCode\":\"WTDD\",\"ExpectedDepartureTime\":\"2017-06-17T23:00:00\",\"UserStopOrderNumber\":1,\"ProductFormulaType\":\"18\",\"TimingPointName\":\"NDSM\",\"LinePlanningNumber\":\"903\",\"StopAreaCode\":\"09902\",\"TimingPointDataOwnerCode\":\"ALGEMEEN\",\"TimingPointTown\":\"Amsterdam\",\"TripStopStatus\":\"PLANNED\",\"UserStopCode\":\"09902\",\"JourneyStopType\":\"FIRST\",\"TargetArrivalTime\":\"2017-06-17T23:00:00\",\"TargetDepartureTime\":\"2017-06-17T23:00:00\",\"ExpectedArrivalTime\":\"2017-06-17T23:00:00\"},\"GVB_20170617_906_124_0\":{\"IsTimingStop\":true,\"DestinationName50\":\"Centraal Station\",\"DataOwnerCode\":\"GVB\",\"OperatorCode\":\"GVB\",\"FortifyOrderNumber\":0,\"TransportType\":\"BOAT\",\"Latitude\":52.40094,\"Longitude\":4.8917375,\"JourneyNumber\":124,\"JourneyPatternCode\":1287555197,\"LocalServiceLevelCode\":20170617,\"LineDirection\":1,\"OperationDate\":\"2017-06-17\",\"TimingPointCode\":\"30009902\",\"WheelChairAccessible\":\"ACCESSIBLE\",\"LineName\":\"NDSM - Centraal Station\",\"LinePublicNumber\":\"906\",\"LastUpdateTimeStamp\":\"2017-06-17T10:45:33+0200\",\"DestinationCode\":\"CS\",\"ExpectedDepartureTime\":\"2017-06-17T22:30:00\",\"UserStopOrderNumber\":1,\"ProductFormulaType\":\"18\",\"TimingPointName\":\"NDSM\",\"LinePlanningNumber\":\"906\",\"StopAreaCode\":\"09902\",\"TimingPointDataOwnerCode\":\"ALGEMEEN\",\"TimingPointTown\":\"Amsterdam\",\"TripStopStatus\":\"PLANNED\",\"UserStopCode\":\"09902\",\"JourneyStopType\":\"FIRST\",\"TargetArrivalTime\":\"2017-06-17T22:30:00\",\"TargetDepartureTime\":\"2017-06-17T22:30:00\",\"ExpectedArrivalTime\":\"2017-06-17T22:30:00\"}},\"GeneralMessages\":{}}}}";
}

String ScheduleRepository::get()
{
    return lastValue;
}

void ScheduleRepository::set()
{
    Serial.println("Setting new JSON");
    return;

    HTTPClient http;
    http.begin("http://v0.ovapi.nl/stopareacode/09902/departures");
    int httpCode = http.GET();

    Serial.printf("[HTTP] GET... code: %d\n", httpCode);

    if (httpCode == HTTP_CODE_OK)
    {
        lastValue = http.getString();
    }
    else
    {
        Serial.printf("[HTTP] GET... failed, error: %s\n", http.errorToString(httpCode).c_str());
    }
    http.end();
}